(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{431:function(e,t,r){var content=r(455);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("484275b5",content,!0,{sourceMap:!1})},454:function(e,t,r){"use strict";r(431)},455:function(e,t,r){var n=r(13),o=r(244),l=r(456),c=n(!1),d=o(l);c.push([e.i,".flex-center[data-v-3b577f8e]{display:flex;justify-content:center;align-items:center}.login[data-v-3b577f8e]{margin:0;padding:0;background-image:url("+d+") !important;background-repeat:no-repeat;background-size:cover;font-family:sans-serif}.login .box-login[data-v-3b577f8e]{height:100vh}.login .box-login .grid[data-v-3b577f8e]{display:grid;grid-template-columns:1.5fr 2fr}.login .box-login .grid .grid-item-1[data-v-3b577f8e]{border:1px solid #fd0054;height:500px;box-sizing:border-box;background-color:#ff4081;text-align:center;align-content:center}.login .box-login .grid .grid-item-1 span[data-v-3b577f8e]{color:#fff}.login .box-login .grid .grid-item-1 .btn[data-v-3b577f8e]{position:relative}.login .box-login .grid .grid-item-1 .btn .btn--icon[data-v-3b577f8e]:hover{width:122px !important;height:122px !important}.login .box-login .grid .grid-item-1 .btn h3[data-v-3b577f8e]{position:absolute;top:50%;left:0;right:0;color:#ff4081}.login .box-login .grid .grid-item-1 .btn h3[data-v-3b577f8e]:hover{font-size:1.2em !important}.login .opacity-0[data-v-3b577f8e]{opacity:0}.login .opacity-1[data-v-3b577f8e]{opacity:1;-moz-transition:opacity 3s ease .3s;-webkit-transition:opacity 3s ease .3s;-o-transition:opacity 3s ease .3s;transition:opacity 3.5s ease .3s}",""]),e.exports=c},456:function(e,t,r){e.exports=r.p+"img/bg.10f784c.jpg"},507:function(e,t,r){"use strict";r.r(t);var n=r(181),o=r(165),l=r(104),c=r(416),d=(r(7),r(6),r(8),r(11),r(12),r(4)),f=r(2),m=(r(48),r(408)),v=r.n(m),h=r(61);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={layout:"blank",data:function(){return{version:"2",username:"Admin",password:"1234",mode:"login",animation:2,form:{},loading:!1}},computed:{checkBtnRegister:function(){return!(this.form.firstname&&this.form.lastname&&this.form.username&&this.form.password)}},methods:w(w({},Object(h.b)({registerMember:"service/registerMember"})),{},{login:function(e){var t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,e.preventDefault(),n={username:t.username,password:t.password},r.prev=3,r.next=6,t.$auth.loginWith("local",{data:n});case 6:if(0!=r.sent.data.status){r.next=13;break}return v.a.fire({icon:"error",title:"รหัสผ่านไม่ถูกต้อง"}),r.next=11,t.$auth.logout();case 11:return t.loading=!1,r.abrupt("return");case 13:t.$router.push("/"),t.loading=!1,r.next=21;break;case 17:r.prev=17,r.t0=r.catch(3),t.$router.push("/login"),t.loading=!1;case 21:case"end":return r.stop()}}),r,null,[[3,17]])})))()},registerUser:function(form){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.registerMember(form).then((function(t){t.status?(v.a.fire({icon:"success",title:"สมัครเรียบร้อย",showConfirmButton:!1,timer:1500}),e.changeMode("login")):v.a.fire({icon:"error",title:t.message})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},changeMode:function(text){var e=this;this.mode!=text&&(this.animation=1,setTimeout((function(){e.animation=2,e.mode=text,"login"==e.mode?e.clearForm():e.clearLogin()}),100))},clearForm:function(){this.form={}},clearLogin:function(){this.username=null,this.password=null}})},k=(r(454),r(47)),component=Object(k.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"box-login flex-center"},[t(o.a,{staticClass:"mx-2",attrs:{width:"600",height:"500"}},[t("div",{staticClass:"grid"},[t("div",{staticClass:"grid-item-1 flex-center"},[t("span",[t("div",{staticClass:"mb-4"},[t("h3",[e._v("Welcome To My Pets V."+e._s(e.version))]),e._v(" "),t("small",[e._v("ถ้าคุณยังไม่เป็นสมาชิก")])]),e._v(" "),t("div",{staticClass:"btn cursor"},[t(n.a,{staticClass:"btn--icon",attrs:{width:"120",height:"120",outlined:"",fab:"",color:"white"},on:{click:function(t){return e.changeMode("register")}}},[t(l.a,{attrs:{size:"100"}},[e._v("fas fa-paw")])],1),e._v(" "),t("h3",{staticClass:"text-btn",on:{click:function(t){return e.changeMode("register")}}},[e._v("คลิก!")])],1)])]),e._v(" "),t("div",{staticClass:"grid-item-2 flex-center"},[t(o.a,{attrs:{elevation:"0",width:"90%"}},["login"==e.mode?t("div",{staticClass:"text-center pa-4",class:2==e.animation?"opacity-1":"opacity-0"},[t("h2",[e._v("ลงชื่อเข้าใช้")]),e._v(" "),t(c.a,{attrs:{"hide-details":"",label:"Username",placeholder:"กรุณากรอก Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),t(c.a,{attrs:{"hide-details":"",label:"Password",placeholder:"กรุณากรอก Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),t(n.a,{staticClass:"mt-16",attrs:{loading:e.loading,color:"primary",block:"",dark:"",elevation:"0"},on:{click:e.login}},[e._v("ตกลง")])],1):t("div",{staticClass:"text-center pa-4",class:2==e.animation?"opacity-1":"opacity-0"},[t("h2",[e._v("สมัครใช้งาน")]),e._v(" "),t(c.a,{attrs:{"hide-details":"",label:"ชื่อ",placeholder:"กรุณากรอก ชื่อ"},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}}),e._v(" "),t(c.a,{attrs:{"hide-details":"",label:"นามสกุล",placeholder:"กรุณากรอก นามสกุล"},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}}),e._v(" "),t(c.a,{attrs:{"hide-details":"",label:"Username",placeholder:"กรุณากรอก Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e._v(" "),t(c.a,{attrs:{"hide-details":"",label:"Password",placeholder:"กรุณากรอก Password",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),t(n.a,{staticClass:"mt-16",attrs:{color:"primary",block:"",elevation:"0",dark:!e.checkBtnRegister,disabled:e.checkBtnRegister},on:{click:function(t){return e.registerUser(e.form)}}},[e._v("สมัครใช้งาน")]),e._v(" "),t(n.a,{staticClass:"mt-1",attrs:{color:"primary",block:"",dark:"",elevation:"0",outlined:""},on:{click:function(t){return e.changeMode("login")}}},[e._v("กลับ")])],1)])],1)])])],1)])}),[],!1,null,"3b577f8e",null);t.default=component.exports}}]);